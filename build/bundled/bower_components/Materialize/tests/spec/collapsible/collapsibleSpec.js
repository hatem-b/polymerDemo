describe("Collapsible Plugin",function(){var e,i;beforeEach(function(){loadFixtures("collapsible/collapsible.html"),e=$(".collapsible"),i=$(".accordion"),popout=$(".popout"),e.collapsible()}),describe("collapsible",function(){it("should open all items, keeping all open",function(){var i=e.find(".collapsible-header"),o=e.find(".collapsible-body");o.each(function(){expect($(this)).toBeHidden("because collapsible bodies should be hidden initially.")}),i.each(function(){$(this).click()}),o.each(function(){expect($(this)).toBeVisible("because collapsible bodies not visible after being opened.")})})}),describe("accordion",function(){it("should open first and second items, keeping only second open",function(e){var o=i.find(".collapsible-header").first(),n=i.find(".collapsible-body").first(),t=i.find(".collapsible-header").eq(1),s=i.find(".collapsible-body").eq(1);expect(n).toBeHidden("because accordion bodies should be hidden initially."),expect(s).toBeHidden("because accordion bodies should be hidden initially."),o.click(),setTimeout(function(){expect(n).toBeVisible("because accordion bodies not visible after being opened."),t.click(),setTimeout(function(){expect(n).toBeHidden("because accordion bodies should be hidden when another item is opened."),expect(s).toBeVisible("because accordion bodies not visible after being opened."),e()},400)},200)})}),describe("popout",function(){it("should open first and popout",function(e){var i=popout.find("li").first(),o=popout.find(".collapsible-header").first(),n=popout.find(".collapsible-body").first();expect(n).toBeHidden("because accordion bodies should be hidden initially."),popout.find("li").each(function(){var e=parseInt($(this).css("margin-left")),i=parseInt($(this).css("margin-right"));expect(e).toBeGreaterThan(0,"because closed popout items should have horizontal margins."),expect(i).toBeGreaterThan(0,"because closed popout items should have horizontal margins.")}),o.click(),setTimeout(function(){var o=parseInt(i.css("margin-left")),t=parseInt(i.css("margin-right"));expect(o).toEqual(0,"because opened popout items should have no horizontal margins."),expect(t).toEqual(0,"because opened popout items should have no horizontal margins."),expect(n).toBeVisible("because accordion bodies not visible after being opened."),e()},400)})})});