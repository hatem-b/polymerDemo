describe("Tooltip:",function(){var t,e;beforeEach(function(){loadFixtures("tooltip/tooltipFixture.html"),$(".tooltipped").tooltip()}),describe("Tooltip opens and closes properly",function(){it("Opens a tooltip on mouse enter",function(o){t=$("#test"),e=$("#"+t.attr("data-tooltip-id")),expect(e).toBeHidden("because tooltip is not activated yet"),t.trigger("mouseenter"),setTimeout(function(){expect(e).toBeVisible("because mouse entered tooltipped btn"),expect(e.children("span").text()).toBe("I am tooltip","because that is the defined text in the html attribute"),t.trigger("mouseleave"),setTimeout(function(){expect(e).toBeVisible("because mouse left tooltipped btn"),o()},300)},200)}),it("Positions tooltips smartly on the bottom within the screen bounds",function(o){t=$("#test1"),e=$("#"+t.attr("data-tooltip-id")),t.trigger("mouseenter"),setTimeout(function(){var i=e.offset();expect(i.top>=0).toBeTruthy(),expect(i.top<0).toBeFalsy(),expect(i.top+e.height()<=window.innerHeight).toBeTruthy(),expect(i.left>=0).toBeTruthy(),expect(i.left<0).toBeFalsy(),expect(i.left+e.width()<=window.innerWidth).toBeTruthy(),expect(i.top>t.offset().top+t.height()).toBeTruthy(),expect(i.top<t.offset().top+t.height()).toBeFalsy(),o()},300)}),it("Removes tooltip event handlers and tooltip dom object",function(){t=$("#test1"),t.tooltip("remove");var o=$._data(t[0],"events");expect(!!o).toBeFalsy("because all events should be removed"),e=$("#"+t.attr("data-tooltip-id")),expect(e.length).toBe(0)}),it("Changes position attribute dynamically and positions tooltips on the right correctly",function(o){t=$("#test"),t.attr("data-position","right"),e=$("#"+t.attr("data-tooltip-id")),t.trigger("mouseenter"),setTimeout(function(){var i=e.offset();expect(i.left>t.offset().left+t.width()).toBeTruthy(),o()},300)}),it("Accepts delay option from javascript initialization",function(o){t=$("#test"),t.removeAttr("data-delay"),t.tooltip({delay:200}),e=$("#"+t.attr("data-tooltip-id")),t.trigger("mouseenter"),setTimeout(function(){expect(e.css("display")).toBe("none","because the delay is 200 seconds")},150),setTimeout(function(){expect(e).toBeVisible("because 200 seconds has passed"),o()},250)})})});